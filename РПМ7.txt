1. Создание генератора случайных чисел
csharp
Копировать
Редактировать
Random random = new Random();
Создаём объект random, чтобы можно было случайно выбирать номер следующей маршрутки.

2. Настройка данных
csharp
Копировать
Редактировать
int totalRoutes = 10;
int[] suitableRoutes = { 3, 7 };
int missedBuses = 0;
totalRoutes = 10 — всего 10 маршрутов.

suitableRoutes — массив из двух подходящих маршруток (в данном случае №3 и №7).

missedBuses — счётчик, сколько маршруток он уже пропустил.

3. Основной цикл ожидания маршруток
csharp
Копировать
Редактировать
while (true)
Это бесконечный цикл. Он продолжается, пока не произойдёт одно из двух событий:

Студент уедет на подходящей маршрутке.

Студент пойдёт домой после 5 неприемлемых маршруток.

4. Выбор случайной маршрутки
csharp
Копировать
Редактировать
int incomingRoute = random.Next(1, totalRoutes + 1);
Console.WriteLine($"Прибывает маршрутка №{incomingRoute}");
Случайно выбирается номер маршрутки от 1 до 10 (включительно), и он выводится в консоль.

5. Проверка — подходит маршрутка или нет
csharp
Копировать
Редактировать
if (Array.Exists(suitableRoutes, route => route == incomingRoute))
Проверяется, есть ли этот номер в массиве suitableRoutes. Если есть — студент садится в маршрутку:

csharp
Копировать
Редактировать
Console.WriteLine("Подходящая маршрутка! Студент поехал на занятие.");
break;
break — прерывает цикл, студент уехал.

6. Если маршрутка не подошла
csharp
Копировать
Редактировать
missedBuses++;
Console.WriteLine("Не подходит. Ждём следующую...");
Увеличивается счётчик пропущенных маршруток.

Выводится сообщение.

7. Реакция на большое количество пропущенных маршруток
csharp
Копировать
Редактировать
if (missedBuses > 3 && missedBuses <= 5)
{
    Console.WriteLine("Студент звонит другу: \"Я опаздываю на занятие!\"");
}
else if (missedBuses > 5)
{
    Console.WriteLine("Студент устал ждать и пошёл домой.");
    break;
}
Если пропущено больше 3, но не больше 5 — он звонит другу.

Если пропущено больше 5 — он уходит домой и цикл завершён.